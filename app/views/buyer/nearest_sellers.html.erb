<%= render 'user/layouts/header' %>
<style>
  .seller-image{
    width: 100%;
    height: 210px;
    border-radius: 50%;
  }
  .seller-profile{
    padding: 10px;
  }
  #map {
		height: 200px;
    width: 200px;
	}
  .maps{
    height: 100%;
    width: 100%;
  }
</style>
<section>
  <div class="container mt-4">
   <% @sellers.each do |seller| %>
    <div class="seller-profile rounded border mt-3">
      <div class="row">
        <div class="col-md-3">
          <div class="profile-image-warp">
            <% if seller.profile_pic.attached? %>
            <%= image_tag seller.profile_pic, class: "seller-image", alt: "profile-pic" %>
            <% else%>
            <%= image_tag '', class: "seller-image", alt: "profile-pic" %>
            <% end %>
          </div>
        </div>
        <div class="col-md-9">
          <div class="row">
          <div class="col-md-9">
          <div class="seller-name">
            <b><%= seller.full_name %></b>
          </div>

          <div class="seller-address">
            <div class="seller-city">city: <span><b><%= seller.city %></b></span></div>
            <div class="seller-state">state: <span><b><%= seller.state %></b></span></div>
            <div class="seller-country">country: <span><b><%= seller.country %></b></span></div>
          </div>
          <p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Hic minus dolore temporibus expedita optio dolorum nisi modi sint ut quasi quo similique, officia quos est veniam, error molestias, iure eaque.</p>
          <div class="appoint">
            <div class="ml-auto">
            
              <%= link_to "view profile", user_profile_path(seller.id), class: "ml-auto btn btn-primary" %>
          </div>
           </div>
           <div>
            <button class="btn btn-info" onclick="initialize('<%= seller.latitude %>', '<%=seller.longitude %>','map<%=seller.id%>')">view location</button>
          </div>
          </div>
          <div class="col-md-3">
            <div id="map<%=seller.id%>" class="maps">

            </div>
          </div>
        </div>
        </div>
      </div>
    </div>
    <% end %>
  </div>
  <button class="btn btn-primary" onclick="initialize(22.852,87.99,'map')">view</button>
  <div id="map">

  </div>
</section>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBiIXz9vSrc6ueSxsIxF-zVhLw3Wg7qy5A"></script>
    <script type="text/javascript" src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerwithlabel/src/markerwithlabel.js"></script>

    <script>
  function initialize(lat, lon, id) {
  var mapCanvas = document.getElementById(id);
  var mapOptions = {
    center: new google.maps.LatLng(lat, lon),
    zoom: 17,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(mapCanvas, mapOptions);

  // MARKER:
  var marker = new google.maps.Marker({
    position: mapOptions.center,
    label: "G",
    map: map
  });
  
  // LABEL:
  var marker1 = new MarkerWithLabel({
                   position: homeLatLng,
                   draggable: true,
                   raiseOnDrag: true,
                   map: map,
                   labelContent: "$425K",
                   labelAnchor: new google.maps.Point(22, 0),
                   labelClass: "labels", // the CSS class for the label
                   labelStyle: {opacity: 0.75}
            });
}
    </script>